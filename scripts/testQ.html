<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nutrition Analyzer</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


    <!--link css-->
    <link rel="stylesheet" href="../styles/home_styles.css">
    <link rel="stylesheet" href="../styles/game_styles.css">
</head>
<body>
<h1>Test Modal Quesiton load w/ API</h1>
<button id="btnGo">Search</button>
<br><br>


<!--TEST BEGINS FOR MODALS-->


<div class="card text-white shadow bg-success mb-3 mt-3 ml-3 float-left" data-toggle="modal"
     data-target="#celebritiesModal">
    <div class="card-header text-center text-uppercase font-weight-bold">Celebrities</div>
    <div class="card-body shadow-nohover">
        <h3 class="card-title text-center"><i class="fas h-25 w-25 fa-trophy"></i></h3>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="celebritiesModal" tabindex="-1" role="dialog"
     aria-labelledby="celebritiesModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title question" id="celebritiesModalLabel"></h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body d-none answersBody" id="">
                <div class="row">
                    <div class="col-12">
                        <button class="btn btn-dark btn-block mb-3 text-left" name="answer1"
                                id="answer1">
                        </button>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-dark btn-block mb-3 text-left" id="answer2">
                        </button>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-dark btn-block mb-3 text-left" id="answer3">
                        </button>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-dark btn-block mb-3 text-left" id="answer4"></button>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="nextQuestion">Next Question</button>
            </div>
        </div>
    </div>
</div>

</body>

<script src="https://code.jquery.com/jquery.js" crossorigin="anonymous"></script>
<script>"use strict";

var generalCultureQuestion = 9;
var sportsQuestion = 21;

var playAGame = 1;


$(".card").click(function () {

    //Where question gets displayed
    var modalBody = $(".answersBody");

    //If it is not showing, THIS IS THE TIME TO SHOW
    if (modalBody.hasClass("d-none")) {
        //remove BS4 class to show
        $(".answersBody").removeClass("d-none");

    } else {
        $(".answersBody").addClass("d-block");
    }

    createSportsQuestion(playAGame, sportsQuestion);
});

$("#nextQuestion").click(function () {

    createSportsQuestion(1, sportsQuestion);

});

function play5Game(category) {


}

function createSportsQuestion(amount, category) {

    // global difficulty;


    var params = {
        "amount": amount,
        "category": category,
        //Show this to mason
        // "difficulty": !isSet(amount) ? "easy" : amount,
        "difficulty": "easy",
        "type": "multiple"
    };

    var url = 'https://opentdb.com/api.php/';

    //Get the data
    $.getJSON(url, params, function (result) {
        var items = result.results;


        $.each(items, function (index, item) {

            //get the elements and set to variables
            var questionName = $("#celebritiesModalLabel");
            var answer1 = $("#answer1");
            var answer2 = $("#answer2");
            var answer3 = $("#answer3");
            var answer4 = $("#answer4");

            //get a random number between 1 - 4
            var random = Math.floor((Math.random() * 4) + 1);

            //get the data
            var questionData = item.question;
            var answersDataArray = [item.correct_answer, item.incorrect_answers[0], item.incorrect_answers[1], item.incorrect_answers[2]];


            var randomCreatedArray = [];

            //set the question H3 to the data from file
            questionName.text(questionData);

            //load the buttons
            for (var i = 1; i <= answersDataArray.length; i++) {

                //in this line hopefully I will create What I want
                randomCreatedArray.push($("#answer" + i).text(answersDataArray[i - 1]));
            }


            for (var i = 1; i <= randomCreatedArray.length; i++) {

                console.log(randomCreatedArray[i]);
            }


        });
    });
}

</script>


<script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

</html>