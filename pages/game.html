<!doctype html>
<!--
Toygan Sevim
Base page of the game
This is where the user will interact with the page most to choose their
category to play the game
-->
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


    <!--link css-->
    <link rel="stylesheet" href="styles/home_styles.css">
    <link rel="stylesheet" href="styles/game_styles.css">
</head>
<body class="bg">

<!--NAVBAR-->
<nav class="navbar navbar-expand-lg navbar-light text-white">
    <a class="navbar-brand" href="#">Trivia Quack</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
    </div>
</nav>

<!--<div class="bg"></div>-->

<div class="container main-content">
    <!--NAVBAR-->
    <div class="row pt-5 login-row">
        <!--THIS IS WHERE THE MAIN PART GOES-->
        <!--CATEGORY OF QUESTIONS-->
        <div class="col-9 bg-orange lighter">

            <!--FIRST ROW OF QUESTIONS-->

            <!--SCINCE CARD-->
            <div class="card-deck">
                <div class="card text-white shadow bg-primary mb-3 mt-3 ml-3 float-left " data-toggle="modal"
                     data-target="#celebritiesModal">
                    <div class="card-header text-center text-uppercase font-weight-bold">Science</div>
                    <div class="card-body shadow-nohover mx-auto" id="science-body">
                        <h3 class="card-title text-center"><i class="fas fa-flask h-25 w-25"></i></h3>
                    </div>
                </div>


                <div class="card text-white shadow bg-secondary mb-3 mt-3 ml-3 float-left" data-toggle="modal"
                     data-target="#celebritiesModal">
                    <div class="card-header text-center text-uppercase font-weight-bold">Code</div>
                    <div class="card-body shadow-nohover">
                        <h3 class="card-title text-center"><i class="fas fa-file-code h-25 w-25"></i></h3>

                    </div>
                </div>
                <div class="card text-white shadow bg-success mb-3 mt-3 ml-3 float-left" data-toggle="modal"
                     data-target="#celebritiesModal">
                    <div class="card-header text-center text-uppercase font-weight-bold">Sports</div>
                    <div class="card-body shadow-nohover">
                        <h3 class="card-title text-center"><i class="fas h-25 w-25 fa-basketball-ball"></i></h3>
                    </div>
                </div>

            </div>

            <!--Second ROW OF QUESTIONS-->
            <div class="card-deck">
                <div class="card text-white shadow bg-danger mb-3 mt-3 ml-3 float-left" data-toggle="modal"
                     data-target="#celebritiesModal">
                    <div class="card-header text-center text-uppercase font-weight-bold">Art</div>
                    <div class="card-body shadow-nohover">
                        <h3 class="card-title text-center"><i class="fas h-25 w-25 fa-paint-brush"></i></h3>
                    </div>
                </div>
                <div class="card text-white shadow bg-warning mb-3 mt-3 ml-3 float-left" data-toggle="modal"
                     data-target="#celebritiesModal">
                    <div class="card-header text-center text-uppercase font-weight-bold">Random</div>
                    <div class="card-body shadow-nohover">
                        <h3 class="card-title text-center"><i class="far h-25 w-25 fa-question-circle"></i></h3>
                    </div>
                </div>
                <div class="card text-white shadow bg-info mb-3 mt-3 ml-3 float-left " data-toggle="modal"
                     data-target="#celebritiesModal">
                    <div class="card-header text-center text-uppercase font-weight-bold">History</div>
                    <div class="card-body shadow-nohover">
                        <h3 class="card-title text-center"><i class="fas h-25 w-25 fa-chess-rook"></i></h3>
                    </div>
                </div>


            </div>

            <!--Third ROW OF QUESTIONS-->
            <div class="card-deck">
                <div class="card text-warning shadow bg-purple mb-3 mt-3 ml-3 float-left" data-toggle="modal"
                     data-target="#celebritiesModal">
                    <div class="card-header text-center text-uppercase font-weight-bold">Geography</div>
                    <div class="card-body shadow-nohover">
                        <h3 class="card-title text-center"><i class="fas h-25 w-25 fa-tree"></i></h3>
                    </div>
                </div>
                <div class="card text-white shadow   bg-dark mb-3 mt-3 ml-3 float-left" data-toggle="modal"
                     data-target="#celebritiesModal">
                    <div class="card-header text-center text-uppercase font-weight-bold">General Culture</div>
                    <div class="card-body shadow-nohover">
                        <h3 class="card-title text-center"><i class="fas  h-25 w-25  fa-globe"></i></h3>
                    </div>
                </div>


                <!--TEST BEGINS FOR MODALS-->


                <div class="card text-white shadow bg-pink mb-3 mt-3 ml-3 float-left" data-toggle="modal"
                     data-target="#celebritiesModal">
                    <div class="card-header text-center text-uppercase font-weight-bold">Celebrities</div>
                    <div class="card-body shadow-nohover">
                        <h3 class="card-title text-center"><i class="fas h-25 w-25 fa-trophy"></i></h3>
                    </div>
                </div>

                <!-- Modal -->
                <div class="modal fade" id="celebritiesModal" tabindex="-1" role="dialog"
                     aria-labelledby="celebritiesModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title question" id="celebritiesModalLabel"></h3>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body d-none answersBody" id="">
                                <div class="row">
                                    <div class="col-12">
                                        <button class="btn btn-dark btn-block mb-3 text-left" name="answer1"
                                                id="answer1">
                                        </button>
                                    </div>
                                    <div class="col-12">
                                        <button class="btn btn-dark btn-block mb-3 text-left" id="answer2">
                                        </button>
                                    </div>
                                    <div class="col-12">
                                        <button class="btn btn-dark btn-block mb-3 text-left" id="answer3">
                                        </button>
                                    </div>
                                    <div class="col-12">
                                        <button class="btn btn-dark btn-block mb-3 text-left" id="answer4"></button>
                                    </div>
                                </div>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" id="nextQuestion">Next Question</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>
        <!--Leaderboard-->
        <div class="col-3 bg-primary ">
            <p class="text-white">LEADERBOARD</p>
            <check if="{{@members}}">

                <!--  <ol>
                      <repeat group="{{ @members }}" value="{{ @member }}">
                          <li><a href="{{@BASE}}/summary/{{@member['sid']}}">{{ @member['id'] }}, {{ @member['username'] }}</a></li>
                      </repeat>
                  </ol>
  -->

                <table class="table">
                    <thead class="thead-dark">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Username</th>
                        <th scope="col">Score</th>
                    </tr>
                    </thead>
                    <repeat group="{{ @members }}" value="{{ @member }}">
                        <tbody>
                        <tr>
                            <th scope="row">
                                <check if="{{ @member['id'] == '1'}}">
                                    <true><img src="././images/gold-medal.png" id="gold-medal" alt="gold medal"
                                               class="medal"></true>

                                </check>
                                <check if="{{ @member['id'] == '2'}}">
                                    <true><img src="././images/silver-medal.png" id="silver-medal" alt="silver medal"
                                               class="medal">
                                    </true>

                                </check>
                                <check if="{{ @member['id'] == '3'}}">
                                    <true><img src="././images/bronze-medal.png" id="bronze-medal" alt="bronze medal"
                                               class="medal">
                                    </true>
                                </check>


                            </th>
                            <td>{{ @member['username'] }}</td>
                            <td>{{ @member['totalScore'] }}</td>
                        </tr>
                        </tbody>
                    </repeat>
                </table>

            </check>
        </div>
    </div>
</div>
<!--
END CONTAINER
-->
<script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>


<script>"use strict";


var generalCultureQuestion = 9;
var sportsQuestion = 21;
var playAGame = 1;
var codeQuestion, scienceQuestion, artQuestion, historyQuestion, geographyQuestion, celebQuestion;

function createQuestion(amount, category) {

    // global difficulty;

    var params = {
        "amount": amount,
        "category": category,
        //Show this to mason
        // "difficulty": !isSet(amount) ? "easy" : amount,
        "difficulty": "easy",
        "type": "multiple"
    };

    var url = 'https://opentdb.com/api.php/';

    //Get the data
    $.getJSON(url, params, function (result) {
        var items = result.results;


        //choose all options and arrange them
        $.each(items, function (index, item) {

            //get the elements and set to variables
            var questionName = $("#celebritiesModalLabel");
            var answer1 = $("#answer1");
            var answer2 = $("#answer2");
            var answer3 = $("#answer3");
            var answer4 = $("#answer4");

            //get a random number between 1 - 4
            // var random = Math.floor(Math.random() * 4 + 1);

            //get the data
            var questionData = item.question;
            var answersDataArray = [item.correct_answer, item.incorrect_answers[0], item.incorrect_answers[1], item.incorrect_answers[2]];

            var randomCreatedArray = [];

            //set the question H3 to the data from file
            questionName.text(questionData);

            //load the buttons
            for (var i = 1; i <= answersDataArray.length; i++) {

                //in this line hopefully I will create What I want
                randomCreatedArray.push($("#answer" + i).text(answersDataArray[i - 1]));
            }

//TESTING TO CONSOLE
            for (var i = 1; i <= randomCreatedArray.length; i++) {

                console.log(randomCreatedArray[i]);
            }


        });
    });
}

$(".card").click(function () {

    //Where question gets displayed
    var modalBody = $(".answersBody");

    //If it is not showing, THIS IS THE TIME TO SHOW
    if (modalBody.hasClass("d-none")) {
        //remove BS4 class to show
        $(".answersBody").removeClass("d-none");

    } else {
        $(".answersBody").addClass("d-block");
    }

    var cardName1 = $(this).text().trim();

    switch (cardName1) {

        case ("Code"):
            codeQuestion = 10;
            createQuestion(1, codeQuestion);
            break;
        case ("Sports"):

            createQuestion(1, sportsQuestion);
            break;
        case "Science":
            break;
        case "Art":
            break;
        case"History":
            break;

        case "General Culture":
            alert("goog");
            break;
        default:
            break;
    }

});

var answer = $('#answer1');
answer.click(findAnswer);

function findAnswer() {
    answer.removeClass('btn-dark');
    answer.addClass('btn-warning');
    // answer.delay('slow');
    // answer.removeClass('btn-warning');w
    // answer.addClass('btn-success');
    //alert("FUCK");
}
</script>


</body>
</html>